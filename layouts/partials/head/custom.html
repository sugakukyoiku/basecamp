<script>
  window.MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$', '$$'], ['\\[', '\\]']],
      processEscapes: true,

        // ▼▼▼ ここに使いたいパッケージを書く ▼▼▼
      tags: 'ams',  // 数式番号を表示する設定
      
      macros: {
        // --- 1. 順列・組み合わせ (例: \jun{5}{2}, \kumi{n}{r}) ---
        jun: ["{}_{#1}\\mathrm{P}_{#2}", 2],
        kumi: ["{}_{#1}\\mathrm{C}_{#2}", 2],
        junt: ["{}_{#1}\\Pi_{#2}", 2],  // 重複順列
        kumit: ["{}_{#1}\\mathrm{H}_{#2}", 2], // 重複組み合わせ

  // --- 2. 行列・ベクトル (例: \mat{a}{b}{c}{d}) ---
  // 2x2行列
        mat: ["\\begin{pmatrix} #1 & #2 \\\\ #3 & #4 \\end{pmatrix}", 4],
  // 2x1 縦ベクトル
        tmat: ["\\begin{pmatrix} #1 \\\\ #2 \\end{pmatrix}", 2],
  // ベクトル矢印 (例: \vect{a})
        vect: ["\\vec{#1}", 1],
        Vect: ["\\overrightarrow{\\mathrm{#1}}", 1],
  // 座標 (coord)
  // 元のd_macroのようにカンマごとの調整はできませんが、
  // 自動でカッコ ( ) がつくようにしています。
        coord: ["\\left( #1 \\right)", 1],
  // --- 3. 記号・特殊算術 ---
  // ガウス記号 [x]
        gauss: ["{[ #1 ]}", 1],
  // 絶対値 |x|
        abs: ["\\left| #1 \\right|", 1],
  // 共役 (バー)
        conj: ["\\overline{#1}", 1],
        Conj: ["\\overline{\\mathrm{#1}}", 1], // ローマン体の共役

  // --- 4. 図形・幾何記号 ---
  // 角 (∠A)
        kaku: ["\\angle\\mathrm{#1}", 1],
  // 度 (90°)
        doo: ["{#1}^{\\circ}", 1],
  // 相似 (Sを倒したやつ ∽)
        soji: "\\backsim",
  // 平行 (// 斜め二重線)
        hei: "\\mathrel{/\\!/}", 
  // 弧 (ABの上にカーブ)
        enko: ["\\overset{\\frown}{\\mathrm{#1}}", 1],

  // --- 5. 集合記号 ---
  // 含まれない (∈に縦棒) -> Webでは \notin を使います
        nin: "\\notin",
  // 逆向きが含まれない (∋に縦棒)
        nni: "\\not\\ni",

  // --- 6. 極限・シグマ (textstyle強制) ---
        Lim: ["\\lim_{#1 \\to #2}", 2],
        Sum: ["\\sum_{#1}^{#2}", 2],

  // --- 7. 数学定数 (おまけ) ---
        R: "{\\mathbb{R}}",
        N: "{\\mathbb{N}}",
        Z: "{\\mathbb{Z}}",
  // 「\dis」と書くだけで強制的にデカくする設定
        dis: "\\displaystyle", 
  // 古い \rm を、安全な \mathrm のショートカットとして上書きします
  rm: ["\\mathrm{#1}", 1],
      }
  }
}
</script>
<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>