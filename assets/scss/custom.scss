/* PC版（画面幅 1024px以上）の設定 */
@media (min-width: 1024px) {
    /* 特に何もしない（デフォルトで表示される） */
}

/* スマホ・タブレット版（画面幅 1024px以下）の設定 */
@media (max-width: 1023px) {
    /* 右サイドバーを強制的に表示 */
    .right-sidebar {
        display: flex !important;
        width: 100% !important;
        padding: 0 20px;
        margin-top: 40px; /* 記事との間隔 */
        
        /* 順番を制御（必要なら） */
        order: 100; 
    }

    /* ウィジェットごとの隙間 */
    .right-sidebar .widget-card {
        margin-bottom: 20px;
        width: 100%;
    }
}

/* 記事個別ページのヘッダー画像を調整 */
.article-header .article-image img {
    width: 100% !important;           /* 横幅は画面いっぱい */
    height: 100px !important;         /* ★高さを300pxに固定（好きな数字でOK） */
    object-fit: cover !important;     /* 枠に収まるようにいい感じに切り抜く */
    object-position: top !important; /* 真ん中を中心に表示（top や bottom も可） */
    border-radius: 10px;   /* 角を少し丸くする（お好みで） */
}

/* スマホでは高さを少し狭める（お好みで） */
@media (max-width: 768px) {
    .article-header .article-image img {
        height: 100px;
    }
}

/* 独立した数式ブロック（$$...$$）だけを横スクロールさせる */
.katex-display, 
.MathJax_Display, 
mjx-container[display="true"],  /* ← ★ここを修正！display="true" のものだけに限定 */
div[style*="overflow-x"] {
    overflow-x: auto !important;
    overflow-y: hidden !important;
    max-width: 100% !important;
    display: block !important;
    padding: 10px 0;
    -webkit-overflow-scrolling: touch;
}

/* インライン数式（$...$）は絶対に改行させない */
mjx-container:not([display="true"]),
.katex:not(.katex-display) {
    display: inline-block !important; /* または inline */
    overflow: visible !important;
    max-width: none !important;
    padding: 0 !important;
}

/* スマホでのスクロール操作性を向上 */
@media (max-width: 768px) {
    .katex-display, .MathJax_Display, mjx-container {
        padding-bottom: 15px; /* 指で隠れないように少し余白 */
    }
}
